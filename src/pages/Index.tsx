import { useEffect } from "react";
import { WishlistHeader } from "@/components/WishlistHeader";
import { WishlistGrid } from "@/components/WishlistGrid";
import { useWishlist } from "@/contexts/WishlistContext";

// Sample products to add to wishlist for demo
const sampleProducts = [
  {
    id: "1",
    image: "https://images.unsplash.com/photo-1517668808822-9ebb02f2a0e6?w=400&h=400&fit=crop",
    title: "O-Cedar EasyWring Spin Mop & Bucket System with Foot Pedal Handle...",
    rating: 3.2,
    reviewCount: 452,
    soldCount: "1.3k+",
    price: 27.75,
    originalPrice: 41.40,
    savePercent: 17,
    offerEndsIn: "3h 45m",
    freeDeliveryMin: 50,
    deliveryDate: "Dec 22 - Jan 8",
    seller: "Karimax",
    badges: ["bestseller", "trending"] as ("bestseller" | "trending")[],
    colorVariants: ["#6B46C1", "#3B82F6", "#1E3A8A"],
  },
  {
    id: "2",
    image: "https://images.unsplash.com/photo-1594385208974-2e75f8d7bb48?w=400&h=400&fit=crop",
    title: "Electric Spin Scrubber - Cordless Cleaning Brush with Digital Display I...",
    rating: 4.1,
    reviewCount: 2300,
    soldCount: "736+",
    price: 45.23,
    originalPrice: 75.00,
    savePercent: 15,
    offerEndsIn: "1h 45m",
    stockLeft: 3,
    freeDeliveryMin: 50,
    deliveryDate: "Mon, Nov 29",
    seller: "ElectroSLab Company",
    badges: ["bestseller"] as ("bestseller" | "trending")[],
  },
  {
    id: "3",
    image: "https://images.unsplash.com/photo-1558618666-fcd25c85cd64?w=400&h=400&fit=crop",
    title: "BISSELL Little Green Mini Portable Carpet and Upholstery As Cleaning...",
    rating: 4.3,
    reviewCount: 100,
    soldCount: "2.5k+",
    price: 203.49,
    freeDeliveryMin: 50,
    deliveryDate: "Mon, Nov 24",
    seller: "Younes Leader House",
  },
  {
    id: "4",
    image: "https://images.unsplash.com/photo-1585771724684-38269d6639fd?w=400&h=400&fit=crop",
    title: "11Pcs Crevice Cleaning Brush Set, Hard Bristle Cleaning Supplies for Y...",
    rating: 0,
    reviewCount: 0,
    price: 10.05,
    originalPrice: 15.23,
    savePercent: 22,
    stockLeft: 4,
    freeDeliveryMin: 50,
    deliveryDate: "Mon, Nov 24",
    seller: "Beirut ElectroCity",
    badges: ["bestseller", "trending"] as ("bestseller" | "trending")[],
  },
  {
    id: "5",
    image: "https://images.unsplash.com/photo-1556909114-f6e7ad7d3136?w=400&h=400&fit=crop",
    title: "Cordless Cleaning, Electric Spin Scrubber, Brush Scrubber for Home...",
    rating: 5,
    reviewCount: 300,
    soldCount: "528+",
    price: 9.33,
    originalPrice: 20.34,
    savePercent: 10,
    freeDeliveryMin: 50,
    deliveryDate: "Mon, Nov 28",
    seller: "Hamdan Electronics",
  },
  {
    id: "6",
    image: "https://images.unsplash.com/photo-1563453392212-326f5e854473?w=400&h=400&fit=crop",
    title: "Premium Microfiber Cleaning Cloths Pack of 12 - Ultra Absorbent...",
    rating: 4.7,
    reviewCount: 1850,
    soldCount: "5.2k+",
    price: 15.99,
    originalPrice: 24.99,
    savePercent: 36,
    freeDeliveryMin: 50,
    deliveryDate: "Tue, Dec 3",
    seller: "CleanPro Supplies",
    badges: ["bestseller"] as ("bestseller" | "trending")[],
  },
  {
    id: "7",
    image: "https://images.unsplash.com/photo-1584568694244-14fbdf83bd30?w=400&h=400&fit=crop",
    title: "Extendable Duster with Microfiber Head - Reaches up to 100 inches...",
    rating: 4.4,
    reviewCount: 623,
    soldCount: "890+",
    price: 18.45,
    originalPrice: 29.99,
    savePercent: 38,
    offerEndsIn: "5h 20m",
    freeDeliveryMin: 50,
    deliveryDate: "Wed, Dec 4",
    seller: "Home Essentials",
    badges: ["trending"] as ("bestseller" | "trending")[],
  },
  {
    id: "8",
    image: "https://images.unsplash.com/photo-1527515637462-cff94eecc1ac?w=400&h=400&fit=crop",
    title: "Steam Mop Cleaner 10-in-1 with Convenient Detachable Handheld Unit...",
    rating: 4.2,
    reviewCount: 945,
    soldCount: "1.1k+",
    price: 89.99,
    originalPrice: 129.99,
    savePercent: 31,
    stockLeft: 7,
    freeDeliveryMin: 50,
    deliveryDate: "Thu, Dec 5",
    seller: "SteamTech Home",
    colorVariants: ["#1E3A8A", "#DC2626", "#059669"],
  },
  {
    id: "9",
    image: "https://images.unsplash.com/photo-1600857544200-b2f666a9a2ec?w=400&h=400&fit=crop",
    title: "Robot Vacuum Cleaner with Smart Mapping and App Control...",
    rating: 4.6,
    reviewCount: 3200,
    soldCount: "4.8k+",
    price: 249.99,
    originalPrice: 399.99,
    savePercent: 38,
    freeDeliveryMin: 50,
    deliveryDate: "Fri, Dec 6",
    seller: "SmartHome Tech",
    badges: ["bestseller", "trending"] as ("bestseller" | "trending")[],
  },
  {
    id: "10",
    image: "https://images.unsplash.com/photo-1558317374-067fb5f30001?w=400&h=400&fit=crop",
    title: "Heavy Duty Rubber Gloves for Cleaning - 3 Pairs Multi-Purpose...",
    rating: 4.0,
    reviewCount: 412,
    soldCount: "650+",
    price: 12.99,
    freeDeliveryMin: 50,
    deliveryDate: "Sat, Dec 7",
    seller: "SafeHands Co",
    colorVariants: ["#FBBF24", "#EC4899", "#06B6D4"],
  },
  {
    id: "11",
    image: "https://images.unsplash.com/photo-1585421514738-01798e348b17?w=400&h=400&fit=crop",
    title: "Window Cleaning Kit with Squeegee and Scrubber - Professional Grade...",
    rating: 4.5,
    reviewCount: 789,
    soldCount: "1.2k+",
    price: 24.99,
    originalPrice: 34.99,
    savePercent: 29,
    offerEndsIn: "2h 15m",
    freeDeliveryMin: 50,
    deliveryDate: "Sun, Dec 8",
    seller: "Crystal Clear",
    badges: ["trending"] as ("bestseller" | "trending")[],
  },
  {
    id: "12",
    image: "https://images.unsplash.com/photo-1583947215259-38e31be8751f?w=400&h=400&fit=crop",
    title: "All-Purpose Cleaning Spray Bottles Set of 4 - Heavy Duty Trigger...",
    rating: 4.3,
    reviewCount: 567,
    soldCount: "920+",
    price: 16.49,
    freeDeliveryMin: 50,
    deliveryDate: "Mon, Dec 9",
    seller: "SprayMaster",
  },
  {
    id: "13",
    image: "https://images.unsplash.com/photo-1622560480605-d83c853bc5c3?w=400&h=400&fit=crop",
    title: "Toilet Brush and Holder Set - Stainless Steel Modern Design...",
    rating: 4.1,
    reviewCount: 334,
    soldCount: "480+",
    price: 19.99,
    originalPrice: 27.99,
    savePercent: 29,
    stockLeft: 5,
    freeDeliveryMin: 50,
    deliveryDate: "Tue, Dec 10",
    seller: "Bath Elegance",
  },
  {
    id: "14",
    image: "https://images.unsplash.com/photo-1528740561666-dc2479dc08ab?w=400&h=400&fit=crop",
    title: "Laundry Basket with Handles - Collapsible Pop-Up Mesh Hamper...",
    rating: 4.8,
    reviewCount: 1456,
    soldCount: "3.1k+",
    price: 22.99,
    freeDeliveryMin: 50,
    deliveryDate: "Wed, Dec 11",
    seller: "Laundry Solutions",
    badges: ["bestseller"] as ("bestseller" | "trending")[],
    colorVariants: ["#8B5CF6", "#F97316", "#10B981", "#3B82F6"],
  },
  {
    id: "15",
    image: "https://images.unsplash.com/photo-1610557892470-55d9e80c0bce?w=400&h=400&fit=crop",
    title: "Garbage Bags Heavy Duty 50 Count - Extra Strong for Kitchen...",
    rating: 4.4,
    reviewCount: 2100,
    soldCount: "6.5k+",
    price: 18.99,
    originalPrice: 24.99,
    savePercent: 24,
    freeDeliveryMin: 50,
    deliveryDate: "Thu, Dec 12",
    seller: "EcoTrash Pro",
    badges: ["bestseller", "trending"] as ("bestseller" | "trending")[],
  },
];

const Index = () => {
  const { items, addItem } = useWishlist();

  // Add sample items on first load if wishlist is empty
  useEffect(() => {
    if (items.length === 0) {
      sampleProducts.forEach((product) => {
        addItem(product);
      });
    }
  }, []);

  return (
    <div className="min-h-screen bg-background">
      <WishlistHeader />
      <main className="max-w-[1600px] mx-auto">
        <WishlistGrid />
      </main>
    </div>
  );
};

export default Index;
